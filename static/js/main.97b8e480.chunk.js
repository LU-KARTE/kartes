(this["webpackJsonpkartes-r"]=this["webpackJsonpkartes-r"]||[]).push([[0],{121:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(43),c=t.n(r),i=(t(121),t(11)),o=t(47),j=t(48),d=t(74),l=t(73),b=t(75),h=t(10),m=t(141),u=t(142),p=t(152),O=t(13),x=t(2),f=function(e){Object(d.a)(t,e);var a=Object(l.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(j.a)(t,[{key:"render",value:function(){return Object(x.jsxs)(m.a,{bounds:this.props.bounds,center:this.props.center,minZoom:-5,doubleClickZoom:!1,crs:O.CRS.Simple,children:[Object(x.jsxs)(u.a,{position:"topright",collapsed:!1,children:[Object(x.jsx)(u.a.BaseLayer,{ref:this.props.baseLayerRef,checked:!0,name:this.props.theLayers[1].name,children:Object(x.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[1].imageName})}),Object(x.jsx)(u.a.BaseLayer,{name:this.props.theLayers[2].name,children:Object(x.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[2].imageName})}),Object(x.jsx)(u.a.BaseLayer,{name:this.props.theLayers[3].name,children:Object(x.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[3].imageName})}),Object(x.jsx)(u.a.BaseLayer,{name:this.props.theLayers[4].name,children:Object(x.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[4].imageName})}),Object(x.jsx)(u.a.BaseLayer,{name:this.props.theLayers[5].name,children:Object(x.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[5].imageName})})]}),"            "]})}}]),t}(n.Component),y=t(25),g=t.n(y),v=t(151),L=t(149),k=t(150),C=t(148),N=t(56),I=t(144),T=t(145),B=t(146),F=t(147);t(123),t(124);var S=function(e){var a=s.a.useRef(),t=[s.a.useRef(),s.a.useRef(),s.a.useRef(),s.a.useRef(),s.a.useRef()],n=Object(v.a)({onClose:function(){g()("#cancelButton").click()}}),r=n.isOpen,c=n.onOpen,i=n.onClose,o=s.a.useRef();return g()(document).ready((function(){var e=a.current;if(e){e.pm.addControls({drawCircleMarker:!1,drawCircle:!1,drawMarker:!1,drawPolyline:!1});var n=t[0].current;e.on("pm:create",(function(e){c(),g()("#cancelButton").on("click",(function(){e.layer.remove(),g()("#mainForm").off("click"),g()("#cancelbutton").off("click")})),g()("#mainForm").on("submit",(function(a){var t=g()("#idField").val(),s=g()("#typeField").val();e.layer.LUProperties={},e.layer.LUProperties.id=t,e.layer.LUProperties.type=s,n.addLayer(e.layer),g()("#mainForm").off("submit"),g()("#cancelButton").off("click")}))})).on("baselayerchange",(function(e){n=e.layer}))}})),Object(x.jsxs)("div",{id:"geoman-wrapper",children:[Object(x.jsxs)(L.a,{children:[Object(x.jsx)(k.a,{m:1,onClick:function(){var e=null;a.current&&(e=function(e){var a={type:"GeometryCollection",features:{1:[],2:[],3:[],4:[],5:[]}},t=function(t){var n=a.features[t];e[t].forEach((function(e,a){var s=e.pm._shape,r=[];e._parts[0].forEach((function(e,a){r.push([e.x,e.y])})),n.push({type:s,id:t.toString()+a.toString(),properties:{roomID:e.LUProperties.id,roomType:e.LUProperties.type},coordinates:r})}))};for(var n in e)t(n);return a}(function(){var e={1:[],2:[],3:[],4:[],5:[]};return t.forEach((function(a,t){var n=a.current._layers;for(var s in n)(n[s]instanceof O.Polyline||n[s]instanceof O.Polygon)&&e[t+1].push(n[s])})),e}())),g()("#bin-data-sent").html("<pre>"+JSON.stringify(e,void 0,2)+"</pre>")},id:"button-geoJSON",children:"GeoJSON"}),Object(x.jsx)(k.a,{m:1,id:"button-clear",children:"Clear printed data"}),Object(x.jsx)(k.a,{m:1,id:"button-draw",children:"Refresh data and draw"}),Object(x.jsxs)(C.a,{initialFocusRef:o,isOpen:r,onClose:i,children:[Object(x.jsx)(C.g,{}),Object(x.jsxs)(C.d,{children:[Object(x.jsx)(C.f,{children:"Telpas inform\u0101cija"}),Object(x.jsx)(C.c,{}),Object(x.jsxs)("form",{id:"mainForm",children:[Object(x.jsxs)(C.b,{pb:6,children:[Object(x.jsxs)(N.a,{children:[Object(x.jsx)(I.a,{children:"ID"}),Object(x.jsx)(T.a,{id:"idField",ref:o,placeholder:"Piem\u0113ram, 312"})]}),Object(x.jsxs)(N.a,{mt:4,children:[Object(x.jsx)(I.a,{children:"Tips"}),Object(x.jsxs)(B.a,{id:"typeField",placeholder:"Izv\u0113lies tipu",children:[Object(x.jsx)("option",{value:"kabinets",children:"Kabinets"}),Object(x.jsx)("option",{value:"laboratorija",children:"Laboratorija"}),Object(x.jsx)("option",{value:"cits",children:"Cits"})]})]})]}),Object(x.jsxs)(C.e,{children:[Object(x.jsx)(k.a,{onClick:i,type:"submit",colorScheme:"blue",mr:3,children:"Saglab\u0101t"}),Object(x.jsx)(k.a,{onClick:i,id:"cancelButton",children:"Atcelt"})]})]})]})]})]}),Object(x.jsx)("div",{id:"bin-data-sent",className:"bin-data"}),Object(x.jsx)("div",{id:"bin-data-received-content",className:"bin-data"}),Object(x.jsx)("div",{id:"bin-data-received-metadata",className:"bin-data"}),Object(x.jsx)(m.a,{whenCreated:function(e){a.current=e},bounds:e.bounds,center:e.center,maxZoom:1,minZoom:-5,doubleClickZoom:!1,crs:O.CRS.Simple,children:Object(x.jsxs)(u.a,{position:"topright",collapsed:!1,children:[Object(x.jsx)(u.a.BaseLayer,{checked:!0,name:e.theLayers[1].name,children:Object(x.jsx)(F.a,{ref:t[0],children:Object(x.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[1].imageName})})}),Object(x.jsx)(u.a.BaseLayer,{name:e.theLayers[2].name,children:Object(x.jsx)(F.a,{ref:t[1],children:Object(x.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[2].imageName})})}),Object(x.jsx)(u.a.BaseLayer,{name:e.theLayers[3].name,children:Object(x.jsx)(F.a,{ref:t[2],children:Object(x.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[3].imageName})})}),Object(x.jsx)(u.a.BaseLayer,{name:e.theLayers[4].name,children:Object(x.jsx)(F.a,{ref:t[3],children:Object(x.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[4].imageName})})}),Object(x.jsx)(u.a.BaseLayer,{name:e.theLayers[5].name,children:Object(x.jsx)(F.a,{ref:t[4],children:Object(x.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[5].imageName})})})]})})]})},w=(t(129),function(e){Object(d.a)(t,e);var a=Object(l.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(j.a)(t,[{key:"render",value:function(){var e=window.location.origin+"/kartes/media/",a=[[0,0],[1e3,1e3]],t=[500,500],n={0:{name:"0. st\u0101vs",imageName:""},1:{name:"1. st\u0101vs",imageName:"zm1.svg"},2:{name:"2. st\u0101vs",imageName:"zm2.svg"},3:{name:"3. st\u0101vs",imageName:"zm3.svg"},4:{name:"4. st\u0101vs",imageName:"zm4.svg"},5:{name:"5. st\u0101vs",imageName:"zm5.svg"}};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(b.a,{children:[Object(x.jsxs)(L.a,{children:[Object(x.jsx)(b.b,{to:"/",children:Object(x.jsx)(k.a,{m:1,colorScheme:"blue",children:"Home"})}),Object(x.jsx)(b.b,{to:"/geoman",children:Object(x.jsx)(k.a,{m:1,colorScheme:"blue",children:"Geoman"})})]}),Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/geoman",render:function(s){return Object(x.jsx)(S,Object(i.a)(Object(i.a)({},s),{},{pathToImg:e,bounds:a,center:t,theLayers:n}))}}),Object(x.jsx)(h.a,{exact:!0,path:"/",render:function(s){return Object(x.jsx)(f,Object(i.a)(Object(i.a)({},s),{},{pathToImg:e,bounds:a,center:t,theLayers:n}))}}),Object(x.jsx)(h.a,{status:404,children:Object(x.jsx)("div",{children:"Page not found."})})]})]})})}}]),t}(n.Component)),P=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,153)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(x.jsx)(w,{}),document.getElementById("root")),P()}},[[131,1,2]]]);
//# sourceMappingURL=main.97b8e480.chunk.js.map