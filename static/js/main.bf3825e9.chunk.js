(this["webpackJsonpkartes-r"]=this["webpackJsonpkartes-r"]||[]).push([[0],{121:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(43),c=a.n(s),o=(a(121),a(11)),i=a(47),j=a(48),l=a(75),b=a(74),d=a(57),h=a(10),u=a(141),m=a(142),p=a(152),O=a(13),f=a(2),x=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(f.jsxs)(u.a,{bounds:this.props.bounds,center:this.props.center,minZoom:-5,doubleClickZoom:!1,crs:O.CRS.Simple,children:[Object(f.jsxs)(m.a,{position:"topright",collapsed:!1,children:[Object(f.jsx)(m.a.BaseLayer,{ref:this.props.baseLayerRef,checked:!0,name:this.props.theLayers[1].name,children:Object(f.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[1].imageName})}),Object(f.jsx)(m.a.BaseLayer,{name:this.props.theLayers[2].name,children:Object(f.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[2].imageName})}),Object(f.jsx)(m.a.BaseLayer,{name:this.props.theLayers[3].name,children:Object(f.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[3].imageName})}),Object(f.jsx)(m.a.BaseLayer,{name:this.props.theLayers[4].name,children:Object(f.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[4].imageName})}),Object(f.jsx)(m.a.BaseLayer,{name:this.props.theLayers[5].name,children:Object(f.jsx)(p.a,{bounds:this.props.bounds,url:this.props.pathToImg+this.props.theLayers[5].imageName})})]}),"            "]})}}]),a}(r.Component),y=a(3);var g=function(){var e=Object(r.useState)(null),t=Object(y.a)(e,2),a=(t[0],t[1]),s=Object(r.useState)(!1),c=Object(y.a)(s,2),o=c[0],i=c[1],j=Object(r.useState)([]),l=Object(y.a)(j,2),b=l[0],d=l[1],h=n.a.useState(""),u=Object(y.a)(h,2),m=u[0],p=u[1],O=n.a.useState([]),x=Object(y.a)(O,2),g=x[0],v=x[1];return Object(r.useEffect)((function(){fetch("/kartes/data.json").then((function(e){return e.json()})).then((function(e){i(!0),d(e)}),(function(e){i(!0),a(e)}))}),[]),n.a.useEffect((function(){if(o){var e=b.features.filter((function(e){return e.properties.roomID.toLowerCase().includes(m.toLowerCase())||e.properties.roomType.toLowerCase().includes(m.toLowerCase())}));v(e),console.log(g)}}),[m]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("input",{type:"text",placeholder:"Search",value:m,onChange:function(e){p(e.target.value)}}),Object(f.jsx)("ul",{children:g.map((function(e,t){return Object(f.jsxs)("li",{children:[e.properties.floor,". st\u0101vs \xa0 ",e.properties.roomID,".",e.properties.roomType]},"item-"+t)}))})]})},v=a(25),L=a.n(v),C=a(151),k=a(149),N=a(150),S=a(148),I=a(56),T=a(144),w=a(145),B=a(146),F=a(147);a(123),a(124);var P=function(e){var t=n.a.useRef(),a=[n.a.useRef(),n.a.useRef(),n.a.useRef(),n.a.useRef(),n.a.useRef()],r=Object(C.a)({onClose:function(){L()("#cancelButton").click()}}),s=r.isOpen,c=r.onOpen,o=r.onClose,i=n.a.useRef();return L()(document).ready((function(){var e=t.current;if(e){e.pm.addControls({drawCircleMarker:!1,drawCircle:!1,drawMarker:!1,drawPolyline:!1});var r=a[0].current;e.on("pm:create",(function(e){c(),L()("#cancelButton").on("click",(function(){e.layer.remove(),L()("#mainForm").off("click"),L()("#cancelbutton").off("click")})),L()("#mainForm").on("submit",(function(t){var a=L()("#idField").val(),n=L()("#typeField").val();e.layer.LUProperties={},e.layer.LUProperties.id=a,e.layer.LUProperties.type=n,r.addLayer(e.layer),L()("#mainForm").off("submit"),L()("#cancelButton").off("click")}))})).on("baselayerchange",(function(e){r=e.layer}))}})),Object(f.jsxs)("div",{id:"geoman-wrapper",children:[Object(f.jsxs)(k.a,{children:[Object(f.jsx)(N.a,{m:1,onClick:function(){var e=null;t.current&&(e=function(e){var t={type:"GeometryCollection",features:[]},a=function(a){var r=t.features;e[a].forEach((function(e,t){var n=e.pm._shape,s=[];e._parts[0].forEach((function(e,t){s.push([e.x,e.y])})),r.push({type:n,id:a.toString()+t.toString(),properties:{floor:a,roomID:e.LUProperties.id,roomType:e.LUProperties.type},coordinates:s})}))};for(var r in e)a(r);return t}(function(){var e={1:[],2:[],3:[],4:[],5:[]};return a.forEach((function(t,a){var r=t.current._layers;for(var n in r)(r[n]instanceof O.Polyline||r[n]instanceof O.Polygon)&&e[a+1].push(r[n])})),e}())),L()("#bin-data-sent").html("<pre>"+JSON.stringify(e,void 0,2)+"</pre>")},id:"button-geoJSON",children:"GeoJSON"}),Object(f.jsx)(N.a,{m:1,id:"button-clear",children:"Clear printed data"}),Object(f.jsx)(N.a,{m:1,id:"button-draw",children:"Refresh data and draw"}),Object(f.jsxs)(S.a,{initialFocusRef:i,isOpen:s,onClose:o,children:[Object(f.jsx)(S.g,{}),Object(f.jsxs)(S.d,{children:[Object(f.jsx)(S.f,{children:"Telpas inform\u0101cija"}),Object(f.jsx)(S.c,{}),Object(f.jsxs)("form",{id:"mainForm",children:[Object(f.jsxs)(S.b,{pb:6,children:[Object(f.jsxs)(I.a,{children:[Object(f.jsx)(T.a,{children:"ID"}),Object(f.jsx)(w.a,{id:"idField",ref:i,placeholder:"Piem\u0113ram, 312"})]}),Object(f.jsxs)(I.a,{mt:4,children:[Object(f.jsx)(T.a,{children:"Tips"}),Object(f.jsxs)(B.a,{id:"typeField",placeholder:"Izv\u0113lies tipu",children:[Object(f.jsx)("option",{value:"kabinets",children:"Kabinets"}),Object(f.jsx)("option",{value:"laboratorija",children:"Laboratorija"}),Object(f.jsx)("option",{value:"cits",children:"Cits"})]})]})]}),Object(f.jsxs)(S.e,{children:[Object(f.jsx)(N.a,{onClick:o,type:"submit",colorScheme:"blue",mr:3,children:"Saglab\u0101t"}),Object(f.jsx)(N.a,{onClick:o,id:"cancelButton",children:"Atcelt"})]})]})]})]})]}),Object(f.jsx)("div",{id:"bin-data-sent",className:"bin-data"}),Object(f.jsx)("div",{id:"bin-data-received-content",className:"bin-data"}),Object(f.jsx)("div",{id:"bin-data-received-metadata",className:"bin-data"}),Object(f.jsx)(u.a,{whenCreated:function(e){t.current=e},bounds:e.bounds,center:e.center,maxZoom:1,minZoom:-5,doubleClickZoom:!1,crs:O.CRS.Simple,children:Object(f.jsxs)(m.a,{position:"topright",collapsed:!1,children:[Object(f.jsx)(m.a.BaseLayer,{checked:!0,name:e.theLayers[1].name,children:Object(f.jsx)(F.a,{ref:a[0],children:Object(f.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[1].imageName})})}),Object(f.jsx)(m.a.BaseLayer,{name:e.theLayers[2].name,children:Object(f.jsx)(F.a,{ref:a[1],children:Object(f.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[2].imageName})})}),Object(f.jsx)(m.a.BaseLayer,{name:e.theLayers[3].name,children:Object(f.jsx)(F.a,{ref:a[2],children:Object(f.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[3].imageName})})}),Object(f.jsx)(m.a.BaseLayer,{name:e.theLayers[4].name,children:Object(f.jsx)(F.a,{ref:a[3],children:Object(f.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[4].imageName})})}),Object(f.jsx)(m.a.BaseLayer,{name:e.theLayers[5].name,children:Object(f.jsx)(F.a,{ref:a[4],children:Object(f.jsx)(p.a,{bounds:e.bounds,url:e.pathToImg+e.theLayers[5].imageName})})})]})})]})},R=(a(129),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=window.location.origin+"/kartes/media/",t=[[0,0],[1e3,1e3]],a=[500,500],r={0:{name:"0. st\u0101vs",imageName:""},1:{name:"1. st\u0101vs",imageName:"zm1.svg"},2:{name:"2. st\u0101vs",imageName:"zm2.svg"},3:{name:"3. st\u0101vs",imageName:"zm3.svg"},4:{name:"4. st\u0101vs",imageName:"zm4.svg"},5:{name:"5. st\u0101vs",imageName:"zm5.svg"}};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(d.a,{children:[Object(f.jsxs)(k.a,{children:[Object(f.jsx)(d.b,{to:"/",children:Object(f.jsx)(N.a,{m:1,colorScheme:"blue",children:"Home"})}),Object(f.jsx)(d.b,{to:"/geoman",children:Object(f.jsx)(N.a,{m:1,colorScheme:"blue",children:"Geoman"})}),Object(f.jsx)(d.b,{to:"/search",children:Object(f.jsx)(N.a,{m:1,colorScheme:"blue",children:"Search"})})]}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{exact:!0,path:"/geoman",render:function(n){return Object(f.jsx)(P,Object(o.a)(Object(o.a)({},n),{},{pathToImg:e,bounds:t,center:a,theLayers:r}))}}),Object(f.jsx)(h.a,{exact:!0,path:"/search",render:function(n){return Object(f.jsx)(g,Object(o.a)(Object(o.a)({},n),{},{pathToImg:e,bounds:t,center:a,theLayers:r}))}}),Object(f.jsx)(h.a,{exact:!0,path:"/",render:function(n){return Object(f.jsx)(x,Object(o.a)(Object(o.a)({},n),{},{pathToImg:e,bounds:t,center:a,theLayers:r}))}}),Object(f.jsx)(h.a,{status:404,children:Object(f.jsx)("div",{children:"Page not found."})})]})]})})}}]),a}(r.Component)),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,153)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(f.jsx)(R,{}),document.getElementById("root")),z()}},[[131,1,2]]]);
//# sourceMappingURL=main.bf3825e9.chunk.js.map